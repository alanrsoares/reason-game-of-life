(this["webpackJsonpreason-game-of-life"]=this["webpackJsonpreason-game-of-life"]||[]).push([[0],{22:function(e,n,t){e.exports=t(29)},28:function(e,n,t){},29:function(e,n,t){"use strict";t.r(n),t.d(n,"register_service_worker",(function(){return ie})),t.d(n,"randomSeed",(function(){return oe}));t(23);var r=t(3),a=t(19),i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e){if("serviceWorker"in navigator){if(new URL("/reason-game-of-life",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("/reason-game-of-life","/service-worker.js");i?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):c(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):c(n,e)}))}}function c(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var l=t(0),u=t(1),d=t(8),s=t(11),f=t(14);var h=Math.imul(29,29),v=h<<1,m=Math.sqrt(v),g=360/m,b=f.b(h);var w={sqrSize:h,sumOfSquares:v,diagonalLength:m,hueIncrement:g,colorCache:b,rainbowHSL:function(e,n){var t,r=e+"-"+n,a=f.a(b,r);if(void 0!==a)t=[a,!0];else{var i=Math.imul(e,e)+Math.imul(n,n)|0,o=Math.sqrt(i)*g;t=["hsl("+s.b(o)+", 100%, 60%)",!1]}var c=t[0];return t[1]||f.c(b,r,c),c}};function k(e,n){return u.h(void 0,{hd:u.I(u.A(1)),tl:{hd:u.n(u.A(1)),tl:{hd:u.r(u.A(.125)),tl:{hd:u.v("background",e),tl:{hd:u.d(u.z(50)),tl:{hd:u.F("all"),tl:{hd:u.E(u.B(.1)),tl:{hd:u.G(u.k),tl:{hd:u.i("pointer"),tl:{hd:u.v("box-shadow",n),tl:0}}}}}}}}}})}function p(e){var n={className:k(e.background,e.shadow)},t=Object.assign(n,e),a=e.children;return r.createElement("div",t,[void 0!==a?a:null])}var A=function(e){var n=e.isAlive,t=e.onToggle,a=e.y,i=e.x,o=w.rainbowHSL(a,i),c=n?o:"#272B30",u=r.useCallback((function(e){return function(n){if(1===n.nativeEvent.which)return l.a(e,void 0)}}),[]);return r.createElement(p,{onMouseDown:l.a(u,t),onMouseOver:l.a(u,t),shadow:n?"0 0 1.5px 1px "+o:"",background:c})},E=u.h(void 0,{hd:u.j("flex"),tl:{hd:u.c(u.A(.25),u.C,u.o("222")),tl:{hd:u.d(u.A(.75)),tl:{hd:u.w(u.A(.125)),tl:0}}}});function y(e){var n={className:E},t=Object.assign(n,e),a=e.children;return r.createElement("div",t,[void 0!==a?a:null])}var C=function(e){var n=e.data,t=e.onToggle,a=r.useCallback((function(e){return function(n,a){return r.createElement(A,{isAlive:1===a,onToggle:function(r){return l.b(t,e,n)},y:e,x:n,key:n+"-"+e})}}),[t]),i=r.useCallback((function(e){return function(n){return r.createElement("div",{key:String(e)},d.f(n,l.a(a,e)))}}),[a]);return r.createElement(y,{children:d.f(n,i)})},x=t(15),R=t(12),T=t(5),j=t(2);function P(e){var n=e[1],t=e[0];return n<0?t-1|0:n===t?0:n}function S(e,n){return[P([n,e[0]]),P([n,e[1]])]}function N(e,n){return d.f(n,(function(t,r){return d.f(r,(function(r,a){return l.c(e,[t,r],a,n)}))}))}function I(e){return d.c(e,d.c(e,0))}function F(e,n){return x.b(n),N((function(e,n,t){return x.a(10)>7?1:0}),I(e))}var O={hd:-1,tl:{hd:0,tl:{hd:1,tl:0}}};function W(e,n){var t=n[1],r=n[0];return T.d(T.b(T.a(T.d(O,(function(e){return T.d(O,(function(n){return[r+e|0,t+n|0]}))}))),(function(e){return R.b(e,[r,t])})),(function(n){return function(e,n){var t=S(n,e.length);return j.c(j.c(e,t[0]),t[1])}(e,n)}))}function q(e,n,t){var r=function(e,n){return T.c(T.b(W(e,n),(function(e){return 1===e})))}(t,e);return n?3===r||2===r?1:0:3!==r?0:1}var z={grid:F(29,0|Date.now()),isPlaying:!1,animationFrameId:{contents:0},startedAt:void 0,ticks:0,frameRate:0};function D(e,n,t){if("number"!==typeof n)return function(e,n){var t=d.e(e,(function(e){return e.slice(0)})),r=S(n,e.length),a=r[1],i=r[0],o=j.c(j.c(t,i),a);return j.d(j.c(t,i),a,o?0:1),t}(e,n._0);switch(n){case 0:return F(29,0|Date.now());case 1:return I(29);case 2:case 3:return e;case 4:return N(q,e)}}function M(e,n,t){if("number"!==typeof n)return e;if(n<2)return e;switch(n-2|0){case 0:return!0;case 1:return!1;case 2:return e}}function L(e,n,t){if("number"!==typeof n)return e;if(n<2)return e;switch(n-2|0){case 0:return Date.now();case 1:return;case 2:return e}}function _(e,n,t){var r=t.isPlaying;if("number"!==typeof n)return e;switch(n){case 0:case 2:return e;case 1:case 3:return 0;case 4:return r?e+1|0:e}}function B(e,n,t){var r,a,i=t.startedAt;return"number"===typeof n?3!==n?n>=4&&void 0!==i?(r=t.ticks,a=i,s.a(r/((Date.now()-a)/1e3))):e:0:e}var H=function(e,n){return{grid:D(e.grid,n),isPlaying:M(e.isPlaying,n),animationFrameId:e.animationFrameId,startedAt:L(e.startedAt,n),ticks:_(e.ticks,n,e),frameRate:B(e.frameRate,n,e)}},U=u.h(void 0,{hd:u.j("flex"),tl:{hd:u.g(u.a.Color.white),tl:0}});var G=function(e){var n={className:U},t=Object.assign(n,e),a=e.children;return r.createElement("div",t,[void 0!==a?a:null])},J=u.h(void 0,{hd:u.j("flex"),tl:{hd:u.D(u.f),tl:{hd:u.p(u.f),tl:{hd:u.b(u.f),tl:{hd:u.y(u.A(2)),tl:{hd:u.l(u.A(2)),tl:{hd:u.q(u.A(1)),tl:0}}}}}}});var $=function(e){var n={className:J},t=Object.assign(n,e),a=e.children;return r.createElement("div",t,[void 0!==a?a:null])},K=u.h(void 0,{hd:u.I(u.z(100)),tl:0});var Q=function(e){var n={className:K},t=Object.assign(n,e),a=e.children;return r.createElement("div",t,[void 0!==a?a:null])};function V(e){var n=e.name;return r.createElement("i",{className:"fas fa-"+n})}var X=V;function Y(e){var n=e.label,t=e.background,a=e.onClick,i=e.disabled,o=e.children,c=void 0!==i&&i,l=u.h(void 0,{hd:u.l(u.A(.9)),tl:{hd:u.x(u.A(.5),u.A(.8)),tl:{hd:u.v("background-color",t),tl:{hd:u.I(u.A(3)),tl:{hd:u.n(u.A(3)),tl:{hd:u.g(u.a.Color.white),tl:{hd:u.d(u.z(50)),tl:{hd:u.s("zero",u.A(.5)),tl:{hd:u.e("zero"),tl:{hd:u.H(u.t),tl:{hd:u.u(u.A(0),u.t,u.a.Color.white),tl:{hd:u.m(700),tl:{hd:u.i("pointer"),tl:0}}}}}}}}}}}}});return r.createElement("button",{"aria-label":n,className:l,disabled:c,onClick:a},o)}var Z=Y;var ee=function(e){var n=e.isToggled,t=e.onClick,a=e.label,i=e.disabled,o=void 0!==i&&i,c=n?"#666":"#7A8288",l=n?"pause":"play";return r.createElement(Y,{label:a,background:c,onClick:t,disabled:o,children:r.createElement(V,{name:l})})},ne=u.h(void 0,{hd:u.j("flex"),tl:{hd:u.p(u.f),tl:{hd:u.b(u.f),tl:{hd:u.x(u.A(2),"zero"),tl:0}}}});function te(e){var n={className:ne},t=Object.assign(n,e),a=e.children;return r.createElement("div",t,[void 0!==a?a:null])}var re=function(e){var n=e.isPlaying,t=e.onReset,a=e.onRandom,i=e.onTick,o=e.onToggleAutoplay;return r.createElement(te,{children:r.createElement("div",{role:"group"},r.createElement(Z,{label:"Reset grid",background:"#ee5f5b",onClick:t,children:r.createElement(X,{name:"undo"})}),r.createElement(Z,{label:"Random grid",background:"#62c462",onClick:a,children:r.createElement(X,{name:"random"})}),r.createElement(Z,{label:"Next state",background:"#7A8288",onClick:i,disabled:n,children:r.createElement(X,{name:"forward"})}),r.createElement(ee,{isToggled:n,onClick:o,label:"Toggle autpplay"}))})};var ae=function(e){var n=r.useReducer(H,z),t=n[1],a=n[0],i=r.useCallback((function(e){return function(n){return l.a(t,{_0:[e,n]})}}),[t]),o=r.useCallback((function(e){return l.a(t,1)}),[t]),c=r.useCallback((function(e){return l.a(t,0)}),[t]),u=r.useCallback((function(e){return l.a(t,4)}),[t]),d=r.useCallback((function(e){return a.isPlaying?(cancelAnimationFrame(a.animationFrameId.contents),l.a(t,3)):(function e(n){return a.animationFrameId.contents=requestAnimationFrame(e),l.a(t,4)}(),l.a(t,2))}),[a.animationFrameId,a.isPlaying,t]);return r.createElement(G,{children:r.createElement(Q,{children:null},r.createElement($,{children:"Conway's Game of Life"}),r.createElement(re,{isPlaying:a.isPlaying,onReset:o,onRandom:c,onTick:u,onToggleAutoplay:d}),r.createElement(C,{data:a.grid,onToggle:i}),r.createElement("div",void 0,a.isPlaying?"avg update rate: "+String(a.frameRate)+" fps":""))})};function ie(e){o()}t(28);var oe=0|Date.now(),ce=document.querySelector("#root");null!=ce&&a.render(r.createElement(ae,{}),ce),o()}},[[22,1,2]]]);
//# sourceMappingURL=main.c085db70.chunk.js.map
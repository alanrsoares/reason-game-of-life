{"version":3,"sources":["lib/Util.bs.js","Index.bs.js","lib/Config.bs.js","components/CoreComponents.bs.js","index.js","serviceWorker.js","components/App.bs.js","components/Grid.bs.js","components/Tile.bs.js","lib/Model.bs.js","lib/Game.bs.js","components/Controls.bs.js"],"names":["Js_math","require","Caml_int32","Belt_HashMapString","Config$ReasonGameOfLife","sqrSize","imul","boardSize","sumOfSquares","diagonalLength","Math","sqrt","hueIncrement","colorCache","make","Colors","rainbowHSL","y","x","match$1","cacheKey","String","match","get","undefined","sumOfPoints","raw","h","floor","color$1","set","exports","str","prim","arr","avgFrameRate","ticks","startedAt","ceil","Date","now","React","ReactDOMRe","ServiceWorker","App$ReasonGameOfLife","randomSeed","renderToElementWithId","createElement","register","register_service_worker","Emotion","styles","css","display","color","Css","Color","white","Root","props","stylesObject","className","newProps","Object","assign","children","styles$1","textAlign","center","justifyContent","alignItems","paddingTop","rem","fontSize","lineHeight","AppBar","styles$2","width","pct","Content","CoreComponents$Icon","Props","name","Icon","CoreComponents$Button","label","background","onClick","disabledOpt","disabled","padding2","p","height","borderRadius","margin2","zero","borderWidth","userSelect","none","outline","fontWeight","cursor","Button","ToggleButton","isToggled","isLocalhost","Boolean","window","location","hostname","config","navigator","URL","process","href","origin","addEventListener","swUrl","fetch","headers","then","response","contentType","status","indexOf","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","console","log","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","error","message","Curry","Grid$ReasonGameOfLife","Util$ReasonGameOfLife","Model$ReasonGameOfLife","Controls$ReasonGameOfLife","CoreComponents$ReasonGameOfLife","useReducer","Reducers","root","initialState","dispatch","handleToggleTile","useCallback","_1","handleReset","param","handleRandom","handleTick","handleToggleAutoPlay","isPlaying","cancelAnimationFrame","animationFrameId","contents","play","requestAnimationFrame","onReset","onRandom","onTick","onToggleAutoplay","data","grid","onToggle","frameRate","Belt_Array","Tile$ReasonGameOfLife","border","em","solid","black","Wrapper","make$1","renderTile","cellState","isAlive","_2","key","renderRow","row","mapWithIndex","shadow","margin","px","transitionProperty","transitionDuration","s","transitionTimingFunction","easeInOut","aliveColor","handleMouseEvent","callback","e","nativeEvent","which","onMouseDown","onMouseOver","Game$ReasonGameOfLife","makeRandomGrid","self","action","_state","toggleTile","makeBlankGrid","nextGeneration","makeSeed","Random","Caml_obj","Belt_List","Caml_array","safeIndex","i","length","safePoint","mapGrid","fn","tile","_3","size$prime","getTile","point","caml_array_get","offset","getNeighbours","map","keep","flatten","y$prime","x$prime","caml_notequal","countLivingNeighbours","c","nextState","neighbours","size","seed","init","param$1","param$2","$$int","grid$prime","slice","caml_array_set","role"],"mappings":"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","file":"static/js/main.dee7ca44.chunk.js","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Js_math = require(\"bs-platform/lib/js/js_math.js\");\nvar Caml_int32 = require(\"bs-platform/lib/js/caml_int32.js\");\nvar Belt_HashMapString = require(\"bs-platform/lib/js/belt_HashMapString.js\");\nvar Config$ReasonGameOfLife = require(\"./Config.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction arr(prim) {\n  return prim;\n}\n\nfunction avgFrameRate(ticks, startedAt) {\n  return Js_math.ceil(ticks / ((Date.now() - startedAt) / 1000));\n}\n\nvar sqrSize = Caml_int32.imul(Config$ReasonGameOfLife.boardSize, Config$ReasonGameOfLife.boardSize);\n\nvar sumOfSquares = (sqrSize << 1);\n\nvar diagonalLength = Math.sqrt(sumOfSquares);\n\nvar hueIncrement = 360 / diagonalLength;\n\nvar colorCache = Belt_HashMapString.make(sqrSize);\n\nfunction rainbowHSL(y, x) {\n  var cacheKey = \"\" + (String(y) + (\"-\" + (String(x) + \"\")));\n  var match = Belt_HashMapString.get(colorCache, cacheKey);\n  var match$1;\n  if (match !== undefined) {\n    match$1 = /* tuple */[\n      match,\n      true\n    ];\n  } else {\n    var sumOfPoints = Caml_int32.imul(y, y) + Caml_int32.imul(x, x) | 0;\n    var raw = Math.sqrt(sumOfPoints) * hueIncrement;\n    var h = Js_math.floor(raw);\n    var color = \"hsl(\" + (String(h) + \", 100%, 60%)\");\n    match$1 = /* tuple */[\n      color,\n      false\n    ];\n  }\n  var color$1 = match$1[0];\n  if (!match$1[1]) {\n    Belt_HashMapString.set(colorCache, cacheKey, color$1);\n  }\n  return color$1;\n}\n\nvar Colors = {\n  sqrSize: sqrSize,\n  sumOfSquares: sumOfSquares,\n  diagonalLength: diagonalLength,\n  hueIncrement: hueIncrement,\n  colorCache: colorCache,\n  rainbowHSL: rainbowHSL\n};\n\nexports.str = str;\nexports.arr = arr;\nexports.avgFrameRate = avgFrameRate;\nexports.Colors = Colors;\n/* diagonalLength Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar React = require(\"react\");\nvar ReactDOMRe = require(\"reason-react/src/ReactDOMRe.js\");\nvar ServiceWorker = require(\"./serviceWorker\");\nvar App$ReasonGameOfLife = require(\"./components/App.bs.js\");\n\n((require(\"./index.css\")));\n\nfunction register_service_worker(prim) {\n  ServiceWorker.register();\n  return /* () */0;\n}\n\nvar randomSeed = Date.now() | 0;\n\nReactDOMRe.renderToElementWithId(React.createElement(App$ReasonGameOfLife.make, { }), \"root\");\n\nServiceWorker.register();\n\nexports.register_service_worker = register_service_worker;\nexports.randomSeed = randomSeed;\n/*  Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\n\nvar boardSize = 29;\n\nexports.boardSize = boardSize;\n/* No side effect */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar React = require(\"react\");\nvar Emotion = require(\"@ahrefs/bs-emotion/src/Emotion.bs.js\");\n\nvar styles = Emotion.css(undefined, /* :: */[\n      Emotion.display(/* flex */-1010954439),\n      /* :: */[\n        Emotion.color(Emotion.Css.Color.white),\n        /* [] */0\n      ]\n    ]);\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var match = props.children;\n  return React.createElement(\"div\", newProps, [match !== undefined ? match : null]);\n}\n\nvar Root = {\n  styles: styles,\n  make: make\n};\n\nvar styles$1 = Emotion.css(undefined, /* :: */[\n      Emotion.display(/* flex */-1010954439),\n      /* :: */[\n        Emotion.textAlign(Emotion.center),\n        /* :: */[\n          Emotion.justifyContent(Emotion.center),\n          /* :: */[\n            Emotion.alignItems(Emotion.center),\n            /* :: */[\n              Emotion.paddingTop(Emotion.rem(2)),\n              /* :: */[\n                Emotion.fontSize(Emotion.rem(2)),\n                /* :: */[\n                  Emotion.lineHeight(Emotion.rem(1)),\n                  /* [] */0\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]\n    ]);\n\nfunction make$1(props) {\n  var stylesObject = {\n    className: styles$1\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var match = props.children;\n  return React.createElement(\"div\", newProps, [match !== undefined ? match : null]);\n}\n\nvar AppBar = {\n  styles: styles$1,\n  make: make$1\n};\n\nvar styles$2 = Emotion.css(undefined, /* :: */[\n      Emotion.width(Emotion.pct(100)),\n      /* [] */0\n    ]);\n\nfunction make$2(props) {\n  var stylesObject = {\n    className: styles$2\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var match = props.children;\n  return React.createElement(\"div\", newProps, [match !== undefined ? match : null]);\n}\n\nvar Content = {\n  styles: styles$2,\n  make: make$2\n};\n\nfunction CoreComponents$Icon(Props) {\n  var name = Props.name;\n  return React.createElement(\"i\", {\n              className: \"fas fa-\" + name\n            });\n}\n\nvar Icon = {\n  make: CoreComponents$Icon\n};\n\nfunction CoreComponents$Button(Props) {\n  var label = Props.label;\n  var background = Props.background;\n  var onClick = Props.onClick;\n  var disabledOpt = Props.disabled;\n  var children = Props.children;\n  var disabled = disabledOpt !== undefined ? disabledOpt : false;\n  var className = Emotion.css(undefined, /* :: */[\n        Emotion.fontSize(Emotion.rem(.9)),\n        /* :: */[\n          Emotion.padding2(Emotion.rem(.5), Emotion.rem(.8)),\n          /* :: */[\n            Emotion.p(\"background-color\", background),\n            /* :: */[\n              Emotion.width(Emotion.rem(3)),\n              /* :: */[\n                Emotion.height(Emotion.rem(3)),\n                /* :: */[\n                  Emotion.color(Emotion.Css.Color.white),\n                  /* :: */[\n                    Emotion.borderRadius(Emotion.pct(50)),\n                    /* :: */[\n                      Emotion.margin2(Emotion.zero, Emotion.rem(.5)),\n                      /* :: */[\n                        Emotion.borderWidth(Emotion.zero),\n                        /* :: */[\n                          Emotion.userSelect(Emotion.none),\n                          /* :: */[\n                            Emotion.outline(Emotion.rem(0), Emotion.none, Emotion.Css.Color.white),\n                            /* :: */[\n                              Emotion.fontWeight(700),\n                              /* :: */[\n                                Emotion.cursor(/* pointer */-786317123),\n                                /* [] */0\n                              ]\n                            ]\n                          ]\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]\n          ]\n        ]\n      ]);\n  return React.createElement(\"button\", {\n              \"aria-label\": label,\n              className: className,\n              disabled: disabled,\n              onClick: onClick\n            }, children);\n}\n\nvar Button = {\n  make: CoreComponents$Button\n};\n\nfunction CoreComponents$ToggleButton(Props) {\n  var isToggled = Props.isToggled;\n  var onClick = Props.onClick;\n  var label = Props.label;\n  var disabledOpt = Props.disabled;\n  var disabled = disabledOpt !== undefined ? disabledOpt : false;\n  var background = isToggled ? \"#666\" : \"#7A8288\";\n  var name = isToggled ? \"pause\" : \"play\";\n  return React.createElement(CoreComponents$Button, {\n              label: label,\n              background: background,\n              onClick: onClick,\n              disabled: disabled,\n              children: React.createElement(CoreComponents$Icon, {\n                    name: name\n                  })\n            });\n}\n\nvar ToggleButton = {\n  make: CoreComponents$ToggleButton\n};\n\nexports.Root = Root;\nexports.AppBar = AppBar;\nexports.Content = Content;\nexports.Icon = Icon;\nexports.Button = Button;\nexports.ToggleButton = ToggleButton;\n/* styles Not a pure module */\n","import \"@fortawesome/fontawesome-free/css/all.css\";\n\n// proxy to index.bs (generated)\nexport * from \"./Index.bs\";\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Grid$ReasonGameOfLife = require(\"./Grid.bs.js\");\nvar Util$ReasonGameOfLife = require(\"../lib/Util.bs.js\");\nvar Model$ReasonGameOfLife = require(\"../lib/Model.bs.js\");\nvar Controls$ReasonGameOfLife = require(\"./Controls.bs.js\");\nvar CoreComponents$ReasonGameOfLife = require(\"./CoreComponents.bs.js\");\n\nfunction App(Props) {\n  var match = React.useReducer(Model$ReasonGameOfLife.Reducers.root, Model$ReasonGameOfLife.initialState);\n  var dispatch = match[1];\n  var state = match[0];\n  var handleToggleTile = React.useCallback((function (y) {\n          return (function (x) {\n              return Curry._1(dispatch, /* Toggle */[/* tuple */[\n                            y,\n                            x\n                          ]]);\n            });\n        }), ([]));\n  var handleReset = React.useCallback((function (param) {\n          return Curry._1(dispatch, /* Reset */1);\n        }), ([]));\n  var handleRandom = React.useCallback((function (param) {\n          return Curry._1(dispatch, /* Random */0);\n        }), ([]));\n  var handleTick = React.useCallback((function (param) {\n          return Curry._1(dispatch, /* Tick */4);\n        }), ([]));\n  var handleToggleAutoPlay = React.useCallback((function (param) {\n          var play = function (param) {\n            state.animationFrameId.contents = requestAnimationFrame(play);\n            return Curry._1(dispatch, /* Tick */4);\n          };\n          if (state.isPlaying) {\n            cancelAnimationFrame(state.animationFrameId.contents);\n            return Curry._1(dispatch, /* Stop */3);\n          } else {\n            play(/* () */0);\n            return Curry._1(dispatch, /* Start */2);\n          }\n        }), /* tuple */[\n        state.animationFrameId,\n        state.isPlaying\n      ]);\n  return React.createElement(CoreComponents$ReasonGameOfLife.Root.make, {\n              children: React.createElement(CoreComponents$ReasonGameOfLife.Content.make, {\n                    children: null\n                  }, React.createElement(CoreComponents$ReasonGameOfLife.AppBar.make, {\n                        children: Util$ReasonGameOfLife.str(\"Conway's Game of Life\")\n                      }), React.createElement(Controls$ReasonGameOfLife.make, {\n                        isPlaying: state.isPlaying,\n                        onReset: handleReset,\n                        onRandom: handleRandom,\n                        onTick: handleTick,\n                        onToggleAutoplay: handleToggleAutoPlay\n                      }), React.createElement(Grid$ReasonGameOfLife.make, {\n                        data: state.grid,\n                        onToggle: handleToggleTile\n                      }), React.createElement(\"div\", undefined, Util$ReasonGameOfLife.str(state.isPlaying ? \"avg update rate: \" + (String(state.frameRate) + \" fps\") : \"\")))\n            });\n}\n\nvar make = App;\n\nexports.make = make;\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Emotion = require(\"@ahrefs/bs-emotion/src/Emotion.bs.js\");\nvar Belt_Array = require(\"bs-platform/lib/js/belt_Array.js\");\nvar Tile$ReasonGameOfLife = require(\"./Tile.bs.js\");\nvar Util$ReasonGameOfLife = require(\"../lib/Util.bs.js\");\n\nvar styles = Emotion.css(undefined, /* :: */[\n      Emotion.display(/* flex */-1010954439),\n      /* :: */[\n        Emotion.border(Emotion.em(.2), Emotion.solid, Emotion.Css.Color.black),\n        /* :: */[\n          Emotion.borderRadius(Emotion.em(.5)),\n          /* [] */0\n        ]\n      ]\n    ]);\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var match = props.children;\n  return React.createElement(\"div\", newProps, [match !== undefined ? match : null]);\n}\n\nvar Wrapper = {\n  styles: styles,\n  make: make\n};\n\nfunction Grid(Props) {\n  var data = Props.data;\n  var onToggle = Props.onToggle;\n  var renderTile = React.useCallback((function (y) {\n          return (function (x, cellState) {\n              return React.createElement(Tile$ReasonGameOfLife.make, {\n                          isAlive: cellState === /* Alive */1,\n                          onToggle: (function (param) {\n                              return Curry._2(onToggle, y, x);\n                            }),\n                          y: y,\n                          x: x,\n                          key: \"\" + (String(x) + (\"-\" + (String(y) + \"\")))\n                        });\n            });\n        }), [onToggle]);\n  var renderRow = React.useCallback((function (y) {\n          return (function (row) {\n              return React.createElement(\"div\", {\n                          key: String(y)\n                        }, Util$ReasonGameOfLife.arr(Belt_Array.mapWithIndex(row, Curry._1(renderTile, y))));\n            });\n        }), ([]));\n  return React.createElement(make, {\n              children: Util$ReasonGameOfLife.arr(Belt_Array.mapWithIndex(data, renderRow))\n            });\n}\n\nvar make$1 = Grid;\n\nexports.Wrapper = Wrapper;\nexports.make = make$1;\n/* styles Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Emotion = require(\"@ahrefs/bs-emotion/src/Emotion.bs.js\");\nvar Util$ReasonGameOfLife = require(\"../lib/Util.bs.js\");\n\nfunction styles(background, shadow) {\n  return Emotion.css(undefined, /* :: */[\n              Emotion.width(Emotion.rem(.9)),\n              /* :: */[\n                Emotion.height(Emotion.rem(.9)),\n                /* :: */[\n                  Emotion.margin(Emotion.px(1)),\n                  /* :: */[\n                    Emotion.p(\"background\", background),\n                    /* :: */[\n                      Emotion.borderRadius(Emotion.pct(50)),\n                      /* :: */[\n                        Emotion.transitionProperty(background),\n                        /* :: */[\n                          Emotion.transitionDuration(Emotion.s(.1)),\n                          /* :: */[\n                            Emotion.transitionTimingFunction(Emotion.easeInOut),\n                            /* :: */[\n                              Emotion.cursor(/* pointer */-786317123),\n                              /* :: */[\n                                Emotion.p(\"box-shadow\", shadow),\n                                /* [] */0\n                              ]\n                            ]\n                          ]\n                        ]\n                      ]\n                    ]\n                  ]\n                ]\n              ]\n            ]);\n}\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles(props.background, props.shadow)\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var match = props.children;\n  return React.createElement(\"div\", newProps, [match !== undefined ? match : null]);\n}\n\nvar Wrapper = {\n  styles: styles,\n  make: make\n};\n\nfunction Tile(Props) {\n  var isAlive = Props.isAlive;\n  var onToggle = Props.onToggle;\n  var y = Props.y;\n  var x = Props.x;\n  var aliveColor = Util$ReasonGameOfLife.Colors.rainbowHSL(y, x);\n  var background = isAlive ? aliveColor : \"#272B30\";\n  var handleMouseEvent = React.useCallback((function (callback) {\n          return (function (e) {\n              if (e.nativeEvent.which === 1) {\n                return Curry._1(callback, /* () */0);\n              } else {\n                return 0;\n              }\n            });\n        }), ([]));\n  return React.createElement(make, {\n              onMouseDown: Curry._1(handleMouseEvent, onToggle),\n              onMouseOver: Curry._1(handleMouseEvent, onToggle),\n              shadow: isAlive ? \"0 0 2px 1px \" + (String(aliveColor) + \"\") : \"\",\n              background: background\n            });\n}\n\nvar make$1 = Tile;\n\nexports.Wrapper = Wrapper;\nexports.make = make$1;\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Game$ReasonGameOfLife = require(\"./Game.bs.js\");\nvar Util$ReasonGameOfLife = require(\"./Util.bs.js\");\nvar Config$ReasonGameOfLife = require(\"./Config.bs.js\");\n\nfunction makeSeed(param) {\n  return Date.now() | 0;\n}\n\nvar initialState_grid = Game$ReasonGameOfLife.makeRandomGrid(Config$ReasonGameOfLife.boardSize, Date.now() | 0);\n\nvar initialState_animationFrameId = {\n  contents: 0\n};\n\nvar initialState = {\n  grid: initialState_grid,\n  isPlaying: false,\n  animationFrameId: initialState_animationFrameId,\n  startedAt: undefined,\n  ticks: 0,\n  frameRate: 0\n};\n\nfunction grid(self, action, _state) {\n  if (typeof action === \"number\") {\n    switch (action) {\n      case /* Random */0 :\n          return Game$ReasonGameOfLife.makeRandomGrid(Config$ReasonGameOfLife.boardSize, Date.now() | 0);\n      case /* Reset */1 :\n          return Game$ReasonGameOfLife.makeBlankGrid(Config$ReasonGameOfLife.boardSize);\n      case /* Start */2 :\n      case /* Stop */3 :\n          return self;\n      case /* Tick */4 :\n          return Game$ReasonGameOfLife.nextGeneration(self);\n      \n    }\n  } else {\n    return Game$ReasonGameOfLife.toggleTile(self, action[0]);\n  }\n}\n\nfunction isPlaying(self, action, _state) {\n  if (typeof action === \"number\" && action >= 2) {\n    switch (action - 2 | 0) {\n      case /* Random */0 :\n          return true;\n      case /* Reset */1 :\n          return false;\n      case /* Start */2 :\n          return self;\n      \n    }\n  } else {\n    return self;\n  }\n}\n\nfunction startedAt(self, action, _state) {\n  if (typeof action === \"number\" && action >= 2) {\n    switch (action - 2 | 0) {\n      case /* Random */0 :\n          return Date.now();\n      case /* Reset */1 :\n          return ;\n      case /* Start */2 :\n          return self;\n      \n    }\n  } else {\n    return self;\n  }\n}\n\nfunction ticks(self, action, state) {\n  var match = state.isPlaying;\n  if (typeof action === \"number\") {\n    switch (action) {\n      case /* Random */0 :\n      case /* Start */2 :\n          return self;\n      case /* Reset */1 :\n      case /* Stop */3 :\n          return 0;\n      case /* Tick */4 :\n          if (match) {\n            return self + 1 | 0;\n          } else {\n            return self;\n          }\n      \n    }\n  } else {\n    return self;\n  }\n}\n\nfunction frameRate(self, action, state) {\n  var match = state.startedAt;\n  if (typeof action === \"number\") {\n    if (action !== 3) {\n      if (action >= 4 && match !== undefined) {\n        return Util$ReasonGameOfLife.avgFrameRate(state.ticks, match);\n      } else {\n        return self;\n      }\n    } else {\n      return 0;\n    }\n  } else {\n    return self;\n  }\n}\n\nfunction root(state, action) {\n  return {\n          grid: grid(state.grid, action, state),\n          isPlaying: isPlaying(state.isPlaying, action, state),\n          animationFrameId: state.animationFrameId,\n          startedAt: startedAt(state.startedAt, action, state),\n          ticks: ticks(state.ticks, action, state),\n          frameRate: frameRate(state.frameRate, action, state)\n        };\n}\n\nvar Reducers = {\n  grid: grid,\n  isPlaying: isPlaying,\n  startedAt: startedAt,\n  ticks: ticks,\n  frameRate: frameRate,\n  root: root\n};\n\nexports.makeSeed = makeSeed;\nexports.initialState = initialState;\nexports.Reducers = Reducers;\n/* initialState Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar Random = require(\"bs-platform/lib/js/random.js\");\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\nvar Belt_List = require(\"bs-platform/lib/js/belt_List.js\");\nvar Belt_Array = require(\"bs-platform/lib/js/belt_Array.js\");\nvar Caml_array = require(\"bs-platform/lib/js/caml_array.js\");\n\nfunction safeIndex(param) {\n  var i = param[1];\n  var length = param[0];\n  if (i < 0) {\n    return length - 1 | 0;\n  } else if (i === length) {\n    return 0;\n  } else {\n    return i;\n  }\n}\n\nfunction safePoint(param, length) {\n  return /* tuple */[\n          safeIndex(/* tuple */[\n                length,\n                param[0]\n              ]),\n          safeIndex(/* tuple */[\n                length,\n                param[1]\n              ])\n        ];\n}\n\nfunction mapGrid(fn, grid) {\n  return Belt_Array.mapWithIndex(grid, (function (y, row) {\n                return Belt_Array.mapWithIndex(row, (function (x, tile) {\n                              return Curry._3(fn, /* tuple */[\n                                          y,\n                                          x\n                                        ], tile, grid);\n                            }));\n              }));\n}\n\nfunction makeBlankGrid(size$prime) {\n  return Belt_Array.make(size$prime, Belt_Array.make(size$prime, /* Dead */0));\n}\n\nfunction makeRandomGrid(size, seed) {\n  Random.init(seed);\n  return mapGrid((function (param, param$1, param$2) {\n                if (Random.$$int(10) > 7) {\n                  return /* Alive */1;\n                } else {\n                  return /* Dead */0;\n                }\n              }), makeBlankGrid(size));\n}\n\nfunction getTile(grid, point) {\n  var match = safePoint(point, grid.length);\n  return Caml_array.caml_array_get(Caml_array.caml_array_get(grid, match[0]), match[1]);\n}\n\nvar offset = /* :: */[\n  -1,\n  /* :: */[\n    0,\n    /* :: */[\n      1,\n      /* [] */0\n    ]\n  ]\n];\n\nfunction getNeighbours(grid, param) {\n  var x = param[1];\n  var y = param[0];\n  return Belt_List.map(Belt_List.keep(Belt_List.flatten(Belt_List.map(offset, (function (y$prime) {\n                            return Belt_List.map(offset, (function (x$prime) {\n                                          return /* tuple */[\n                                                  y + y$prime | 0,\n                                                  x + x$prime | 0\n                                                ];\n                                        }));\n                          }))), (function (p) {\n                    return Caml_obj.caml_notequal(p, /* tuple */[\n                                y,\n                                x\n                              ]);\n                  })), (function (param) {\n                return getTile(grid, param);\n              }));\n}\n\nfunction countLivingNeighbours(grid, point) {\n  return Belt_List.length(Belt_List.keep(getNeighbours(grid, point), (function (c) {\n                    return c === /* Alive */1;\n                  })));\n}\n\nfunction nextState(point, cellState, grid) {\n  var neighbours = countLivingNeighbours(grid, point);\n  if (cellState) {\n    if (neighbours === 3 || neighbours === 2) {\n      return /* Alive */1;\n    } else {\n      return /* Dead */0;\n    }\n  } else if (neighbours !== 3) {\n    return /* Dead */0;\n  } else {\n    return /* Alive */1;\n  }\n}\n\nfunction nextGeneration(param) {\n  return mapGrid(nextState, param);\n}\n\nfunction toggleTile(grid, point) {\n  var grid$prime = Belt_Array.map(grid, (function (prim) {\n          return prim.slice(0);\n        }));\n  var match = safePoint(point, grid.length);\n  var x = match[1];\n  var y = match[0];\n  var tile = Caml_array.caml_array_get(Caml_array.caml_array_get(grid$prime, y), x);\n  Caml_array.caml_array_set(Caml_array.caml_array_get(grid$prime, y), x, tile ? /* Dead */0 : /* Alive */1);\n  return grid$prime;\n}\n\nexports.safeIndex = safeIndex;\nexports.safePoint = safePoint;\nexports.mapGrid = mapGrid;\nexports.makeBlankGrid = makeBlankGrid;\nexports.makeRandomGrid = makeRandomGrid;\nexports.getTile = getTile;\nexports.offset = offset;\nexports.getNeighbours = getNeighbours;\nexports.countLivingNeighbours = countLivingNeighbours;\nexports.nextState = nextState;\nexports.nextGeneration = nextGeneration;\nexports.toggleTile = toggleTile;\n/* No side effect */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar React = require(\"react\");\nvar Emotion = require(\"@ahrefs/bs-emotion/src/Emotion.bs.js\");\nvar CoreComponents$ReasonGameOfLife = require(\"./CoreComponents.bs.js\");\n\nvar styles = Emotion.css(undefined, /* :: */[\n      Emotion.display(/* flex */-1010954439),\n      /* :: */[\n        Emotion.justifyContent(Emotion.center),\n        /* :: */[\n          Emotion.alignItems(Emotion.center),\n          /* :: */[\n            Emotion.padding2(Emotion.rem(2), Emotion.zero),\n            /* [] */0\n          ]\n        ]\n      ]\n    ]);\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var match = props.children;\n  return React.createElement(\"div\", newProps, [match !== undefined ? match : null]);\n}\n\nvar Wrapper = {\n  styles: styles,\n  make: make\n};\n\nfunction Controls(Props) {\n  var isPlaying = Props.isPlaying;\n  var onReset = Props.onReset;\n  var onRandom = Props.onRandom;\n  var onTick = Props.onTick;\n  var onToggleAutoplay = Props.onToggleAutoplay;\n  return React.createElement(make, {\n              children: React.createElement(\"div\", {\n                    role: \"group\"\n                  }, React.createElement(CoreComponents$ReasonGameOfLife.Button.make, {\n                        label: \"Reset grid\",\n                        background: \"#ee5f5b\",\n                        onClick: onReset,\n                        children: React.createElement(CoreComponents$ReasonGameOfLife.Icon.make, {\n                              name: \"undo\"\n                            })\n                      }), React.createElement(CoreComponents$ReasonGameOfLife.Button.make, {\n                        label: \"Random grid\",\n                        background: \"#62c462\",\n                        onClick: onRandom,\n                        children: React.createElement(CoreComponents$ReasonGameOfLife.Icon.make, {\n                              name: \"random\"\n                            })\n                      }), React.createElement(CoreComponents$ReasonGameOfLife.Button.make, {\n                        label: \"Next state\",\n                        background: \"#7A8288\",\n                        onClick: onTick,\n                        disabled: isPlaying,\n                        children: React.createElement(CoreComponents$ReasonGameOfLife.Icon.make, {\n                              name: \"forward\"\n                            })\n                      }), React.createElement(CoreComponents$ReasonGameOfLife.ToggleButton.make, {\n                        isToggled: isPlaying,\n                        onClick: onToggleAutoplay,\n                        label: \"Toggle autpplay\"\n                      }))\n            });\n}\n\nvar make$1 = Controls;\n\nexports.Wrapper = Wrapper;\nexports.make = make$1;\n/* styles Not a pure module */\n"],"sourceRoot":""}
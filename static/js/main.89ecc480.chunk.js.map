{"version":3,"sources":["lib/Config.bs.js","Index.bs.js","components/CoreComponents.bs.js","index.js","serviceWorker.js","components/App.bs.js","components/Grid.bs.js","components/Tile.bs.js","lib/Model.bs.js","lib/Game.bs.js","components/Controls.bs.js","lib/Util.bs.js"],"names":["exports","boardSize","tileSize","React","require","ReactDom","ServiceWorker","App$ReasonGameOfLife","randomSeed","Date","now","root","document","querySelector","render","createElement","make","register","register_service_worker","prim","Emotion","styles","css","undefined","hd","display","tl","color","Css","Color","white","Root","props","stylesObject","className","newProps","Object","assign","chil","children","styles$1","textAlign","center","justifyContent","alignItems","paddingTop","rem","fontSize","lineHeight","AppBar","styles$2","width","pct","Content","CoreComponents$Icon","Props","name","Icon","CoreComponents$Button","label","background","onClick","disabledOpt","disabled","padding2","p","height","borderRadius","margin2","borderWidth","userSelect","none","outline","fontWeight","cursor","Button","ToggleButton","isToggled","isLocalhost","Boolean","window","location","hostname","match","config","navigator","URL","process","href","origin","addEventListener","swUrl","fetch","headers","then","response","contentType","get","status","indexOf","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","console","log","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","error","message","Curry","Grid$ReasonGameOfLife","Util$ReasonGameOfLife","Model$ReasonGameOfLife","Controls$ReasonGameOfLife","CoreComponents$ReasonGameOfLife","useReducer","Reducers","initialState","dispatch","handleToggleTile","useCallback","y","x","_1","_0","handleReset","param","handleRandom","handleTick","handleToggleAutoPlay","isPlaying","cancelAnimationFrame","animationFrameId","contents","play","requestAnimationFrame","str","onReset","onRandom","onTick","onToggleAutoplay","data","grid","onToggle","String","frameRate","Belt_Array","Tile$ReasonGameOfLife","border","solid","hex","padding","Wrapper","make$1","renderTile","cellState","isAlive","_2","key","renderRow","row","arr","mapWithIndex","Config$ReasonGameOfLife","shadow","px","transitionProperty","transitionDuration","s","transitionTimingFunction","easeInOut","aliveColor","Colors","rainbowHSL","handleMouseEvent","callback","e","nativeEvent","which","onMouseDown","onMouseOver","Game$ReasonGameOfLife","makeRandomGrid","startedAt","ticks","self","action","_state","toggleTile","makeBlankGrid","nextGeneration","avgFrameRate","makeSeed","Random","Caml_obj","Belt_List","Caml_array","safeIndex","i","length","safePoint","mapGrid","fn","tile","_3","size$prime","getTile","point","caml_array_get","offset","getNeighbours","map","keep","flatten","y$prime","x$prime","caml_notequal","countLivingNeighbours","c","nextState","neighbours","size","seed","init","param$1","param$2","$$int","grid$prime","slice","caml_array_set","role","Js_math","Belt_HashMapString","sqrSize","Math","imul","sumOfSquares","diagonalLength","sqrt","hueIncrement","colorCache","cacheKey","found","sumOfPoints","raw","floor","color$1","set","ceil"],"mappings":"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","file":"static/js/main.89ecc480.chunk.js","sourcesContent":["// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\n\nvar boardSize = 32;\n\nvar tileSize = \".75rem\";\n\nexports.boardSize = boardSize;\nexports.tileSize = tileSize;\n/* No side effect */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar React = require(\"react\");\nvar ReactDom = require(\"react-dom\");\nvar ServiceWorker = require(\"./serviceWorker\");\nvar App$ReasonGameOfLife = require(\"./components/App.bs.js\");\n\n((require(\"./index.css\")));\n\nfunction register_service_worker(prim) {\n  ServiceWorker.register();\n  \n}\n\nvar randomSeed = Date.now() | 0;\n\nvar root = document.querySelector(\"#root\");\n\nif (!(root == null)) {\n  ReactDom.render(React.createElement(App$ReasonGameOfLife.make, {}), root);\n}\n\nServiceWorker.register();\n\nexports.register_service_worker = register_service_worker;\nexports.randomSeed = randomSeed;\n/*  Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar React = require(\"react\");\nvar Emotion = require(\"@ahrefs/bs-emotion/src/Emotion.bs.js\");\n\nvar styles = Emotion.css(undefined, {\n      hd: Emotion.display(\"flex\"),\n      tl: {\n        hd: Emotion.color(Emotion.Css.Color.white),\n        tl: /* [] */0\n      }\n    });\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var chil = props.children;\n  return React.createElement(\"div\", newProps, [chil !== undefined ? chil : null]);\n}\n\nvar Root = {\n  styles: styles,\n  make: make\n};\n\nvar styles$1 = Emotion.css(undefined, {\n      hd: Emotion.display(\"flex\"),\n      tl: {\n        hd: Emotion.textAlign(Emotion.center),\n        tl: {\n          hd: Emotion.justifyContent(Emotion.center),\n          tl: {\n            hd: Emotion.alignItems(Emotion.center),\n            tl: {\n              hd: Emotion.paddingTop(Emotion.rem(2)),\n              tl: {\n                hd: Emotion.fontSize(Emotion.rem(2)),\n                tl: {\n                  hd: Emotion.lineHeight(Emotion.rem(1)),\n                  tl: /* [] */0\n                }\n              }\n            }\n          }\n        }\n      }\n    });\n\nfunction make$1(props) {\n  var stylesObject = {\n    className: styles$1\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var chil = props.children;\n  return React.createElement(\"div\", newProps, [chil !== undefined ? chil : null]);\n}\n\nvar AppBar = {\n  styles: styles$1,\n  make: make$1\n};\n\nvar styles$2 = Emotion.css(undefined, {\n      hd: Emotion.width(Emotion.pct(100)),\n      tl: /* [] */0\n    });\n\nfunction make$2(props) {\n  var stylesObject = {\n    className: styles$2\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var chil = props.children;\n  return React.createElement(\"div\", newProps, [chil !== undefined ? chil : null]);\n}\n\nvar Content = {\n  styles: styles$2,\n  make: make$2\n};\n\nfunction CoreComponents$Icon(Props) {\n  var name = Props.name;\n  return React.createElement(\"i\", {\n              className: \"fas fa-\" + name\n            });\n}\n\nvar Icon = {\n  make: CoreComponents$Icon\n};\n\nfunction CoreComponents$Button(Props) {\n  var label = Props.label;\n  var background = Props.background;\n  var onClick = Props.onClick;\n  var disabledOpt = Props.disabled;\n  var children = Props.children;\n  var disabled = disabledOpt !== undefined ? disabledOpt : false;\n  var className = Emotion.css(undefined, {\n        hd: Emotion.fontSize(Emotion.rem(.9)),\n        tl: {\n          hd: Emotion.padding2(Emotion.rem(.5), Emotion.rem(.8)),\n          tl: {\n            hd: Emotion.p(\"background-color\", background),\n            tl: {\n              hd: Emotion.width(Emotion.rem(3)),\n              tl: {\n                hd: Emotion.height(Emotion.rem(3)),\n                tl: {\n                  hd: Emotion.color(Emotion.Css.Color.white),\n                  tl: {\n                    hd: Emotion.borderRadius(Emotion.pct(50)),\n                    tl: {\n                      hd: Emotion.margin2(\"zero\", Emotion.rem(.5)),\n                      tl: {\n                        hd: Emotion.borderWidth(\"zero\"),\n                        tl: {\n                          hd: Emotion.userSelect(Emotion.none),\n                          tl: {\n                            hd: Emotion.outline(Emotion.rem(0), Emotion.none, Emotion.Css.Color.white),\n                            tl: {\n                              hd: Emotion.fontWeight(700),\n                              tl: {\n                                hd: Emotion.cursor(\"pointer\"),\n                                tl: /* [] */0\n                              }\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      });\n  return React.createElement(\"button\", {\n              \"aria-label\": label,\n              className: className,\n              disabled: disabled,\n              onClick: onClick\n            }, children);\n}\n\nvar Button = {\n  make: CoreComponents$Button\n};\n\nfunction CoreComponents$ToggleButton(Props) {\n  var isToggled = Props.isToggled;\n  var onClick = Props.onClick;\n  var label = Props.label;\n  var disabledOpt = Props.disabled;\n  var disabled = disabledOpt !== undefined ? disabledOpt : false;\n  var background = isToggled ? \"#666\" : \"#7A8288\";\n  var name = isToggled ? \"pause\" : \"play\";\n  return React.createElement(CoreComponents$Button, {\n              label: label,\n              background: background,\n              onClick: onClick,\n              disabled: disabled,\n              children: React.createElement(CoreComponents$Icon, {\n                    name: name\n                  })\n            });\n}\n\nvar ToggleButton = {\n  make: CoreComponents$ToggleButton\n};\n\nexports.Root = Root;\nexports.AppBar = AppBar;\nexports.Content = Content;\nexports.Icon = Icon;\nexports.Button = Button;\nexports.ToggleButton = ToggleButton;\n/* styles Not a pure module */\n","import \"@fortawesome/fontawesome-free/css/all.css\";\n\n// proxy to index.bs (generated)\nexport * from \"./Index.bs\";\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Grid$ReasonGameOfLife = require(\"./Grid.bs.js\");\nvar Util$ReasonGameOfLife = require(\"../lib/Util.bs.js\");\nvar Model$ReasonGameOfLife = require(\"../lib/Model.bs.js\");\nvar Controls$ReasonGameOfLife = require(\"./Controls.bs.js\");\nvar CoreComponents$ReasonGameOfLife = require(\"./CoreComponents.bs.js\");\n\nfunction App(Props) {\n  var match = React.useReducer(Model$ReasonGameOfLife.Reducers.root, Model$ReasonGameOfLife.initialState);\n  var dispatch = match[1];\n  var state = match[0];\n  var handleToggleTile = React.useCallback((function (y) {\n          return function (x) {\n            return Curry._1(dispatch, /* Toggle */{\n                        _0: [\n                          y,\n                          x\n                        ]\n                      });\n          };\n        }), [dispatch]);\n  var handleReset = React.useCallback((function (param) {\n          return Curry._1(dispatch, /* Reset */1);\n        }), [dispatch]);\n  var handleRandom = React.useCallback((function (param) {\n          return Curry._1(dispatch, /* Random */0);\n        }), [dispatch]);\n  var handleTick = React.useCallback((function (param) {\n          return Curry._1(dispatch, /* Tick */4);\n        }), [dispatch]);\n  var handleToggleAutoPlay = React.useCallback((function (param) {\n          var play = function (param) {\n            state.animationFrameId.contents = requestAnimationFrame(play);\n            return Curry._1(dispatch, /* Tick */4);\n          };\n          if (state.isPlaying) {\n            cancelAnimationFrame(state.animationFrameId.contents);\n            return Curry._1(dispatch, /* Stop */3);\n          } else {\n            play(undefined);\n            return Curry._1(dispatch, /* Start */2);\n          }\n        }), [\n        state.animationFrameId,\n        state.isPlaying,\n        dispatch\n      ]);\n  return React.createElement(CoreComponents$ReasonGameOfLife.Root.make, {\n              children: React.createElement(CoreComponents$ReasonGameOfLife.Content.make, {\n                    children: null\n                  }, React.createElement(CoreComponents$ReasonGameOfLife.AppBar.make, {\n                        children: Util$ReasonGameOfLife.str(\"Conway's Game of Life\")\n                      }), React.createElement(Controls$ReasonGameOfLife.make, {\n                        isPlaying: state.isPlaying,\n                        onReset: handleReset,\n                        onRandom: handleRandom,\n                        onTick: handleTick,\n                        onToggleAutoplay: handleToggleAutoPlay\n                      }), React.createElement(Grid$ReasonGameOfLife.make, {\n                        data: state.grid,\n                        onToggle: handleToggleTile\n                      }), React.createElement(\"div\", undefined, Util$ReasonGameOfLife.str(state.isPlaying ? \"avg update rate: \" + (String(state.frameRate) + \" fps\") : \"\")))\n            });\n}\n\nvar make = App;\n\nexports.make = make;\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Emotion = require(\"@ahrefs/bs-emotion/src/Emotion.bs.js\");\nvar Belt_Array = require(\"bs-platform/lib/js/belt_Array.js\");\nvar Tile$ReasonGameOfLife = require(\"./Tile.bs.js\");\nvar Util$ReasonGameOfLife = require(\"../lib/Util.bs.js\");\n\nvar styles = Emotion.css(undefined, {\n      hd: Emotion.display(\"flex\"),\n      tl: {\n        hd: Emotion.border(Emotion.rem(.25), Emotion.solid, Emotion.hex(\"222\")),\n        tl: {\n          hd: Emotion.borderRadius(Emotion.rem(.75)),\n          tl: {\n            hd: Emotion.padding(Emotion.rem(.125)),\n            tl: /* [] */0\n          }\n        }\n      }\n    });\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var chil = props.children;\n  return React.createElement(\"div\", newProps, [chil !== undefined ? chil : null]);\n}\n\nvar Wrapper = {\n  styles: styles,\n  make: make\n};\n\nfunction Grid(Props) {\n  var data = Props.data;\n  var onToggle = Props.onToggle;\n  var renderTile = React.useCallback((function (y) {\n          return function (x, cellState) {\n            return React.createElement(Tile$ReasonGameOfLife.make, {\n                        isAlive: cellState === /* Alive */1,\n                        onToggle: (function (param) {\n                            return Curry._2(onToggle, y, x);\n                          }),\n                        y: y,\n                        x: x,\n                        key: \"\" + x + \"-\" + y\n                      });\n          };\n        }), [onToggle]);\n  var renderRow = React.useCallback((function (y) {\n          return function (row) {\n            return React.createElement(\"div\", {\n                        key: String(y)\n                      }, Util$ReasonGameOfLife.arr(Belt_Array.mapWithIndex(row, Curry._1(renderTile, y))));\n          };\n        }), [renderTile]);\n  return React.createElement(make, {\n              children: Util$ReasonGameOfLife.arr(Belt_Array.mapWithIndex(data, renderRow))\n            });\n}\n\nvar make$1 = Grid;\n\nexports.Wrapper = Wrapper;\nexports.make = make$1;\n/* styles Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Emotion = require(\"@ahrefs/bs-emotion/src/Emotion.bs.js\");\nvar Util$ReasonGameOfLife = require(\"../lib/Util.bs.js\");\nvar Config$ReasonGameOfLife = require(\"../lib/Config.bs.js\");\n\nfunction styles(background, shadow, tileSize) {\n  return Emotion.css(undefined, {\n              hd: Emotion.p(\"width\", tileSize),\n              tl: {\n                hd: Emotion.p(\"height\", tileSize),\n                tl: {\n                  hd: Emotion.p(\"background\", background),\n                  tl: {\n                    hd: Emotion.borderRadius(Emotion.pct(50)),\n                    tl: {\n                      hd: Emotion.margin2(Emotion.px(2), Emotion.px(1)),\n                      tl: {\n                        hd: Emotion.padding(\"zero\"),\n                        tl: {\n                          hd: Emotion.transitionProperty(\"all\"),\n                          tl: {\n                            hd: Emotion.transitionDuration(Emotion.s(.1)),\n                            tl: {\n                              hd: Emotion.transitionTimingFunction(Emotion.easeInOut),\n                              tl: {\n                                hd: Emotion.cursor(\"pointer\"),\n                                tl: {\n                                  hd: Emotion.p(\"box-shadow\", shadow),\n                                  tl: /* [] */0\n                                }\n                              }\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            });\n}\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles(props.background, props.shadow, props.tileSize)\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var chil = props.children;\n  return React.createElement(\"div\", newProps, [chil !== undefined ? chil : null]);\n}\n\nvar Wrapper = {\n  styles: styles,\n  make: make\n};\n\nfunction Tile(Props) {\n  var isAlive = Props.isAlive;\n  var onToggle = Props.onToggle;\n  var y = Props.y;\n  var x = Props.x;\n  var aliveColor = Util$ReasonGameOfLife.Colors.rainbowHSL(y, x);\n  var match = isAlive ? [\n      aliveColor,\n      \"0 0 0 0 \" + aliveColor\n    ] : [\n      \"#272B30\",\n      \"\"\n    ];\n  var handleMouseEvent = React.useCallback((function (callback) {\n          return function (e) {\n            if (e.nativeEvent.which === 1) {\n              return Curry._1(callback, undefined);\n            }\n            \n          };\n        }), []);\n  return React.createElement(make, {\n              onMouseDown: Curry._1(handleMouseEvent, onToggle),\n              onMouseOver: Curry._1(handleMouseEvent, onToggle),\n              tileSize: Config$ReasonGameOfLife.tileSize,\n              shadow: match[1],\n              background: match[0]\n            });\n}\n\nvar make$1 = Tile;\n\nexports.Wrapper = Wrapper;\nexports.make = make$1;\n/* react Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Game$ReasonGameOfLife = require(\"./Game.bs.js\");\nvar Util$ReasonGameOfLife = require(\"./Util.bs.js\");\nvar Config$ReasonGameOfLife = require(\"./Config.bs.js\");\n\nfunction makeSeed(param) {\n  return Date.now() | 0;\n}\n\nvar initialState_grid = Game$ReasonGameOfLife.makeRandomGrid(Config$ReasonGameOfLife.boardSize, Date.now() | 0);\n\nvar initialState_animationFrameId = {\n  contents: 0\n};\n\nvar initialState = {\n  grid: initialState_grid,\n  isPlaying: false,\n  animationFrameId: initialState_animationFrameId,\n  startedAt: undefined,\n  ticks: 0,\n  frameRate: 0\n};\n\nfunction grid(self, action, _state) {\n  if (typeof action !== \"number\") {\n    return Game$ReasonGameOfLife.toggleTile(self, action._0);\n  }\n  switch (action) {\n    case /* Random */0 :\n        return Game$ReasonGameOfLife.makeRandomGrid(Config$ReasonGameOfLife.boardSize, Date.now() | 0);\n    case /* Reset */1 :\n        return Game$ReasonGameOfLife.makeBlankGrid(Config$ReasonGameOfLife.boardSize);\n    case /* Start */2 :\n    case /* Stop */3 :\n        return self;\n    case /* Tick */4 :\n        return Game$ReasonGameOfLife.nextGeneration(self);\n    \n  }\n}\n\nfunction isPlaying(self, action, _state) {\n  if (typeof action !== \"number\") {\n    return self;\n  }\n  if (action < 2) {\n    return self;\n  }\n  switch (action - 2 | 0) {\n    case /* Random */0 :\n        return true;\n    case /* Reset */1 :\n        return false;\n    case /* Start */2 :\n        return self;\n    \n  }\n}\n\nfunction startedAt(self, action, _state) {\n  if (typeof action !== \"number\") {\n    return self;\n  }\n  if (action < 2) {\n    return self;\n  }\n  switch (action - 2 | 0) {\n    case /* Random */0 :\n        return Date.now();\n    case /* Reset */1 :\n        return ;\n    case /* Start */2 :\n        return self;\n    \n  }\n}\n\nfunction ticks(self, action, state) {\n  var match = state.isPlaying;\n  if (typeof action !== \"number\") {\n    return self;\n  }\n  switch (action) {\n    case /* Random */0 :\n    case /* Start */2 :\n        return self;\n    case /* Reset */1 :\n    case /* Stop */3 :\n        return 0;\n    case /* Tick */4 :\n        if (match) {\n          return self + 1 | 0;\n        } else {\n          return self;\n        }\n    \n  }\n}\n\nfunction frameRate(self, action, state) {\n  var match = state.startedAt;\n  if (typeof action === \"number\") {\n    if (action !== 3) {\n      if (action >= 4 && match !== undefined) {\n        return Util$ReasonGameOfLife.avgFrameRate(state.ticks, match);\n      } else {\n        return self;\n      }\n    } else {\n      return 0;\n    }\n  } else {\n    return self;\n  }\n}\n\nfunction root(state, action) {\n  return {\n          grid: grid(state.grid, action, state),\n          isPlaying: isPlaying(state.isPlaying, action, state),\n          animationFrameId: state.animationFrameId,\n          startedAt: startedAt(state.startedAt, action, state),\n          ticks: ticks(state.ticks, action, state),\n          frameRate: frameRate(state.frameRate, action, state)\n        };\n}\n\nvar Reducers = {\n  grid: grid,\n  isPlaying: isPlaying,\n  startedAt: startedAt,\n  ticks: ticks,\n  frameRate: frameRate,\n  root: root\n};\n\nexports.makeSeed = makeSeed;\nexports.initialState = initialState;\nexports.Reducers = Reducers;\n/* initialState Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar Random = require(\"bs-platform/lib/js/random.js\");\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\nvar Belt_List = require(\"bs-platform/lib/js/belt_List.js\");\nvar Belt_Array = require(\"bs-platform/lib/js/belt_Array.js\");\nvar Caml_array = require(\"bs-platform/lib/js/caml_array.js\");\n\nfunction safeIndex(x) {\n  var i = x[1];\n  var length = x[0];\n  if (i < 0) {\n    return length - 1 | 0;\n  } else if (i === length) {\n    return 0;\n  } else {\n    return i;\n  }\n}\n\nfunction safePoint(param, length) {\n  return [\n          safeIndex([\n                length,\n                param[0]\n              ]),\n          safeIndex([\n                length,\n                param[1]\n              ])\n        ];\n}\n\nfunction mapGrid(fn, grid) {\n  return Belt_Array.mapWithIndex(grid, (function (y, row) {\n                return Belt_Array.mapWithIndex(row, (function (x, tile) {\n                              return Curry._3(fn, [\n                                          y,\n                                          x\n                                        ], tile, grid);\n                            }));\n              }));\n}\n\nfunction makeBlankGrid(size$prime) {\n  return Belt_Array.make(size$prime, Belt_Array.make(size$prime, /* Dead */0));\n}\n\nfunction makeRandomGrid(size, seed) {\n  Random.init(seed);\n  return mapGrid((function (param, param$1, param$2) {\n                if (Random.$$int(10) > 7) {\n                  return /* Alive */1;\n                } else {\n                  return /* Dead */0;\n                }\n              }), makeBlankGrid(size));\n}\n\nfunction getTile(grid, point) {\n  var match = safePoint(point, grid.length);\n  return Caml_array.caml_array_get(Caml_array.caml_array_get(grid, match[0]), match[1]);\n}\n\nvar offset = {\n  hd: -1,\n  tl: {\n    hd: 0,\n    tl: {\n      hd: 1,\n      tl: /* [] */0\n    }\n  }\n};\n\nfunction getNeighbours(grid, param) {\n  var x = param[1];\n  var y = param[0];\n  return Belt_List.map(Belt_List.keep(Belt_List.flatten(Belt_List.map(offset, (function (y$prime) {\n                            return Belt_List.map(offset, (function (x$prime) {\n                                          return [\n                                                  y + y$prime | 0,\n                                                  x + x$prime | 0\n                                                ];\n                                        }));\n                          }))), (function (p) {\n                    return Caml_obj.caml_notequal(p, [\n                                y,\n                                x\n                              ]);\n                  })), (function (param) {\n                return getTile(grid, param);\n              }));\n}\n\nfunction countLivingNeighbours(grid, point) {\n  return Belt_List.length(Belt_List.keep(getNeighbours(grid, point), (function (c) {\n                    return c === /* Alive */1;\n                  })));\n}\n\nfunction nextState(point, cellState, grid) {\n  var neighbours = countLivingNeighbours(grid, point);\n  if (cellState) {\n    if (neighbours === 3 || neighbours === 2) {\n      return /* Alive */1;\n    } else {\n      return /* Dead */0;\n    }\n  } else if (neighbours !== 3) {\n    return /* Dead */0;\n  } else {\n    return /* Alive */1;\n  }\n}\n\nfunction nextGeneration(param) {\n  return mapGrid(nextState, param);\n}\n\nfunction toggleTile(grid, point) {\n  var grid$prime = Belt_Array.map(grid, (function (prim) {\n          return prim.slice(0);\n        }));\n  var match = safePoint(point, grid.length);\n  var x = match[1];\n  var y = match[0];\n  var tile = Caml_array.caml_array_get(Caml_array.caml_array_get(grid$prime, y), x);\n  Caml_array.caml_array_set(Caml_array.caml_array_get(grid$prime, y), x, tile ? /* Dead */0 : /* Alive */1);\n  return grid$prime;\n}\n\nexports.safeIndex = safeIndex;\nexports.safePoint = safePoint;\nexports.mapGrid = mapGrid;\nexports.makeBlankGrid = makeBlankGrid;\nexports.makeRandomGrid = makeRandomGrid;\nexports.getTile = getTile;\nexports.offset = offset;\nexports.getNeighbours = getNeighbours;\nexports.countLivingNeighbours = countLivingNeighbours;\nexports.nextState = nextState;\nexports.nextGeneration = nextGeneration;\nexports.toggleTile = toggleTile;\n/* No side effect */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar React = require(\"react\");\nvar Emotion = require(\"@ahrefs/bs-emotion/src/Emotion.bs.js\");\nvar CoreComponents$ReasonGameOfLife = require(\"./CoreComponents.bs.js\");\n\nvar styles = Emotion.css(undefined, {\n      hd: Emotion.display(\"flex\"),\n      tl: {\n        hd: Emotion.justifyContent(Emotion.center),\n        tl: {\n          hd: Emotion.alignItems(Emotion.center),\n          tl: {\n            hd: Emotion.padding2(Emotion.rem(2), \"zero\"),\n            tl: /* [] */0\n          }\n        }\n      }\n    });\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var chil = props.children;\n  return React.createElement(\"div\", newProps, [chil !== undefined ? chil : null]);\n}\n\nvar Wrapper = {\n  styles: styles,\n  make: make\n};\n\nfunction Controls(Props) {\n  var isPlaying = Props.isPlaying;\n  var onReset = Props.onReset;\n  var onRandom = Props.onRandom;\n  var onTick = Props.onTick;\n  var onToggleAutoplay = Props.onToggleAutoplay;\n  return React.createElement(make, {\n              children: React.createElement(\"div\", {\n                    role: \"group\"\n                  }, React.createElement(CoreComponents$ReasonGameOfLife.Button.make, {\n                        label: \"Reset grid\",\n                        background: \"#ee5f5b\",\n                        onClick: onReset,\n                        children: React.createElement(CoreComponents$ReasonGameOfLife.Icon.make, {\n                              name: \"undo\"\n                            })\n                      }), React.createElement(CoreComponents$ReasonGameOfLife.Button.make, {\n                        label: \"Random grid\",\n                        background: \"#62c462\",\n                        onClick: onRandom,\n                        children: React.createElement(CoreComponents$ReasonGameOfLife.Icon.make, {\n                              name: \"random\"\n                            })\n                      }), React.createElement(CoreComponents$ReasonGameOfLife.Button.make, {\n                        label: \"Next state\",\n                        background: \"#7A8288\",\n                        onClick: onTick,\n                        disabled: isPlaying,\n                        children: React.createElement(CoreComponents$ReasonGameOfLife.Icon.make, {\n                              name: \"forward\"\n                            })\n                      }), React.createElement(CoreComponents$ReasonGameOfLife.ToggleButton.make, {\n                        isToggled: isPlaying,\n                        onClick: onToggleAutoplay,\n                        label: \"Toggle autpplay\"\n                      }))\n            });\n}\n\nvar make$1 = Controls;\n\nexports.Wrapper = Wrapper;\nexports.make = make$1;\n/* styles Not a pure module */\n","// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Js_math = require(\"bs-platform/lib/js/js_math.js\");\nvar Belt_HashMapString = require(\"bs-platform/lib/js/belt_HashMapString.js\");\nvar Config$ReasonGameOfLife = require(\"./Config.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction arr(prim) {\n  return prim;\n}\n\nfunction avgFrameRate(ticks, startedAt) {\n  return Js_math.ceil(ticks / ((Date.now() - startedAt) / 1000));\n}\n\nvar sqrSize = Math.imul(Config$ReasonGameOfLife.boardSize, Config$ReasonGameOfLife.boardSize);\n\nvar sumOfSquares = (sqrSize << 1);\n\nvar diagonalLength = Math.sqrt(sumOfSquares);\n\nvar hueIncrement = 360 / diagonalLength;\n\nvar colorCache = Belt_HashMapString.make(sqrSize);\n\nfunction rainbowHSL(y, x) {\n  var cacheKey = \"\" + y + \"-\" + x;\n  var found = Belt_HashMapString.get(colorCache, cacheKey);\n  var match;\n  if (found !== undefined) {\n    match = [\n      found,\n      true\n    ];\n  } else {\n    var sumOfPoints = Math.imul(y, y) + Math.imul(x, x) | 0;\n    var raw = Math.sqrt(sumOfPoints) * hueIncrement;\n    var h = Js_math.floor(raw);\n    var color = \"hsl(\" + h + \", 100%, 60%)\";\n    match = [\n      color,\n      false\n    ];\n  }\n  var color$1 = match[0];\n  if (!match[1]) {\n    Belt_HashMapString.set(colorCache, cacheKey, color$1);\n  }\n  return color$1;\n}\n\nvar Colors = {\n  sqrSize: sqrSize,\n  sumOfSquares: sumOfSquares,\n  diagonalLength: diagonalLength,\n  hueIncrement: hueIncrement,\n  colorCache: colorCache,\n  rainbowHSL: rainbowHSL\n};\n\nexports.str = str;\nexports.arr = arr;\nexports.avgFrameRate = avgFrameRate;\nexports.Colors = Colors;\n/* diagonalLength Not a pure module */\n"],"sourceRoot":""}
{"version":3,"sources":["lib/Config.bs.js","Index.bs.js","components/CoreComponents.bs.js","index.js","serviceWorker.js","components/App.bs.js","components/Grid.bs.js","components/Tile.bs.js","lib/Model.bs.js","lib/Game.bs.js","components/Controls.bs.js","lib/Util.bs.js"],"names":["exports","boardSize","tileSize","React","require","ReactDom","ServiceWorker","App$ReasonGameOfLife","randomSeed","Date","now","root","document","querySelector","render","createElement","make","register","register_service_worker","prim","Emotion","Polished","styles","css","undefined","hd","display","tl","color","Css","Color","white","Root","props","stylesObject","className","newProps","Object","assign","chil","children","styles$1","textAlign","center","justifyContent","alignItems","paddingTop","rem","fontSize","lineHeight","AppBar","styles$2","width","pct","Content","CoreComponents$Icon","Props","name","Icon","CoreComponents$Button","label","background","onClick","disabledOpt","disabled","pseudoOutline","opacify","padding2","p","height","borderRadius","margin2","borderWidth","userSelect","none","outline","fontWeight","cursor","select","opacity","Button","ToggleButton","isToggled","isLocalhost","Boolean","window","location","hostname","match","config","navigator","URL","process","href","origin","addEventListener","swUrl","fetch","headers","then","response","contentType","get","status","indexOf","serviceWorker","ready","registration","unregister","reload","registerValidSW","catch","console","log","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","error","message","Curry","Grid$ReasonGameOfLife","Util$ReasonGameOfLife","Model$ReasonGameOfLife","Controls$ReasonGameOfLife","CoreComponents$ReasonGameOfLife","useReducer","Reducers","initialState","dispatch","handleToggleTile","useCallback","y","x","_1","_0","handleReset","param","handleRandom","handleTick","handleToggleAutoPlay","isPlaying","cancelAnimationFrame","animationFrameId","contents","play","requestAnimationFrame","String","frameRate","str","onReset","onRandom","onTick","onToggleAutoplay","data","grid","onToggle","Belt_Array","Tile$ReasonGameOfLife","border","solid","hex","padding","Wrapper","make$1","renderTile","cellState","isAlive","_2","key","renderRow","row","arr","mapWithIndex","Config$ReasonGameOfLife","shadow","px","transitionProperty","transitionDuration","s","transitionTimingFunction","easeInOut","aliveColor","Colors","rainbowHSL","handleMouseEvent","callback","e","nativeEvent","which","onMouseDown","onMouseOver","Game$ReasonGameOfLife","makeRandomGrid","startedAt","ticks","self","action","_state","toggleTile","makeBlankGrid","nextGeneration","avgFrameRate","makeSeed","Random","Caml_obj","Belt_List","Caml_array","safeIndex","i","length","safePoint","mapGrid","fn","tile","_3","size$prime","getTile","point","offset","getNeighbours","map","keep","flatten","y$prime","x$prime","caml_notequal","countLivingNeighbours","c","nextState","neighbours","size","seed","init","param$1","param$2","$$int","grid$prime","slice","set","role","Js_math","Belt_HashMapString","sqrSize","Math","imul","sumOfSquares","diagonalLength","sqrt","hueIncrement","colorCache","cacheKey","found","sumOfPoints","raw","floor","color$1","ceil"],"mappings":"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","file":"static/js/main.619484d5.chunk.js","sourcesContent":["// Generated by ReScript, PLEASE EDIT WITH CARE\n'use strict';\n\n\nvar boardSize = 32;\n\nvar tileSize = \".75rem\";\n\nexports.boardSize = boardSize;\nexports.tileSize = tileSize;\n/* No side effect */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n'use strict';\n\nvar React = require(\"react\");\nvar ReactDom = require(\"react-dom\");\nvar ServiceWorker = require(\"./serviceWorker\");\nvar App$ReasonGameOfLife = require(\"./components/App.bs.js\");\n\n((require(\"./index.css\")));\n\nfunction register_service_worker(prim) {\n  ServiceWorker.register();\n  \n}\n\nvar randomSeed = Date.now() | 0;\n\nvar root = document.querySelector(\"#root\");\n\nif (!(root == null)) {\n  ReactDom.render(React.createElement(App$ReasonGameOfLife.make, {}), root);\n}\n\nServiceWorker.register();\n\nexports.register_service_worker = register_service_worker;\nexports.randomSeed = randomSeed;\n/*  Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n'use strict';\n\nvar React = require(\"react\");\nvar Emotion = require(\"@ahrefs/bs-emotion/src/Emotion.bs.js\");\nvar Polished = require(\"polished\");\n\nvar styles = Emotion.css(undefined, {\n      hd: Emotion.display(\"flex\"),\n      tl: {\n        hd: Emotion.color(Emotion.Css.Color.white),\n        tl: /* [] */0\n      }\n    });\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var chil = props.children;\n  return React.createElement(\"div\", newProps, [chil !== undefined ? chil : null]);\n}\n\nvar Root = {\n  styles: styles,\n  make: make\n};\n\nvar styles$1 = Emotion.css(undefined, {\n      hd: Emotion.display(\"flex\"),\n      tl: {\n        hd: Emotion.textAlign(Emotion.center),\n        tl: {\n          hd: Emotion.justifyContent(Emotion.center),\n          tl: {\n            hd: Emotion.alignItems(Emotion.center),\n            tl: {\n              hd: Emotion.paddingTop(Emotion.rem(2)),\n              tl: {\n                hd: Emotion.fontSize(Emotion.rem(2)),\n                tl: {\n                  hd: Emotion.lineHeight(Emotion.rem(1)),\n                  tl: /* [] */0\n                }\n              }\n            }\n          }\n        }\n      }\n    });\n\nfunction make$1(props) {\n  var stylesObject = {\n    className: styles$1\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var chil = props.children;\n  return React.createElement(\"div\", newProps, [chil !== undefined ? chil : null]);\n}\n\nvar AppBar = {\n  styles: styles$1,\n  make: make$1\n};\n\nvar styles$2 = Emotion.css(undefined, {\n      hd: Emotion.width(Emotion.pct(100)),\n      tl: /* [] */0\n    });\n\nfunction make$2(props) {\n  var stylesObject = {\n    className: styles$2\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var chil = props.children;\n  return React.createElement(\"div\", newProps, [chil !== undefined ? chil : null]);\n}\n\nvar Content = {\n  styles: styles$2,\n  make: make$2\n};\n\nfunction CoreComponents$Icon(Props) {\n  var name = Props.name;\n  return React.createElement(\"i\", {\n              className: \"fas fa-\" + name\n            });\n}\n\nvar Icon = {\n  make: CoreComponents$Icon\n};\n\nfunction CoreComponents$Button(Props) {\n  var label = Props.label;\n  var background = Props.background;\n  var onClick = Props.onClick;\n  var disabledOpt = Props.disabled;\n  var children = Props.children;\n  var disabled = disabledOpt !== undefined ? disabledOpt : false;\n  var shadow = Polished.opacify(-0.4, background);\n  var pseudoOutline = \"0 0 0 4px \" + shadow;\n  var className = Emotion.css(undefined, {\n        hd: Emotion.fontSize(Emotion.rem(.9)),\n        tl: {\n          hd: Emotion.padding2(Emotion.rem(.5), Emotion.rem(.8)),\n          tl: {\n            hd: Emotion.p(\"background-color\", background),\n            tl: {\n              hd: Emotion.width(Emotion.rem(3)),\n              tl: {\n                hd: Emotion.height(Emotion.rem(3)),\n                tl: {\n                  hd: Emotion.color(Emotion.Css.Color.white),\n                  tl: {\n                    hd: Emotion.borderRadius(Emotion.pct(50)),\n                    tl: {\n                      hd: Emotion.margin2(\"zero\", Emotion.rem(.5)),\n                      tl: {\n                        hd: Emotion.borderWidth(\"zero\"),\n                        tl: {\n                          hd: Emotion.userSelect(Emotion.none),\n                          tl: {\n                            hd: Emotion.outline(Emotion.rem(0), Emotion.none, Emotion.Css.Color.white),\n                            tl: {\n                              hd: Emotion.fontWeight(700),\n                              tl: {\n                                hd: Emotion.cursor(\"pointer\"),\n                                tl: {\n                                  hd: Emotion.p(\"transition\", \"all .15s ease-in\"),\n                                  tl: {\n                                    hd: Emotion.select(\":focus\", {\n                                          hd: Emotion.p(\"box-shadow\", pseudoOutline),\n                                          tl: {\n                                            hd: Emotion.opacity(.9),\n                                            tl: /* [] */0\n                                          }\n                                        }),\n                                    tl: /* [] */0\n                                  }\n                                }\n                              }\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      });\n  return React.createElement(\"button\", {\n              \"aria-label\": label,\n              className: className,\n              disabled: disabled,\n              onClick: onClick\n            }, children);\n}\n\nvar Button = {\n  make: CoreComponents$Button\n};\n\nfunction CoreComponents$ToggleButton(Props) {\n  var isToggled = Props.isToggled;\n  var onClick = Props.onClick;\n  var label = Props.label;\n  var disabledOpt = Props.disabled;\n  var disabled = disabledOpt !== undefined ? disabledOpt : false;\n  var background = isToggled ? \"#666\" : \"#7A8288\";\n  var name = isToggled ? \"pause\" : \"play\";\n  return React.createElement(CoreComponents$Button, {\n              label: label,\n              background: background,\n              onClick: onClick,\n              disabled: disabled,\n              children: React.createElement(CoreComponents$Icon, {\n                    name: name\n                  })\n            });\n}\n\nvar ToggleButton = {\n  make: CoreComponents$ToggleButton\n};\n\nexports.Root = Root;\nexports.AppBar = AppBar;\nexports.Content = Content;\nexports.Icon = Icon;\nexports.Button = Button;\nexports.ToggleButton = ToggleButton;\n/* styles Not a pure module */\n","import \"@fortawesome/fontawesome-free/css/all.css\";\n\n// proxy to index.bs (generated)\nexport * from \"./Index.bs\";\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Grid$ReasonGameOfLife = require(\"./Grid.bs.js\");\nvar Util$ReasonGameOfLife = require(\"../lib/Util.bs.js\");\nvar Model$ReasonGameOfLife = require(\"../lib/Model.bs.js\");\nvar Controls$ReasonGameOfLife = require(\"./Controls.bs.js\");\nvar CoreComponents$ReasonGameOfLife = require(\"./CoreComponents.bs.js\");\n\nfunction App(Props) {\n  var match = React.useReducer(Model$ReasonGameOfLife.Reducers.root, Model$ReasonGameOfLife.initialState);\n  var dispatch = match[1];\n  var state = match[0];\n  var handleToggleTile = React.useCallback((function (y) {\n          return function (x) {\n            return Curry._1(dispatch, /* Toggle */{\n                        _0: [\n                          y,\n                          x\n                        ]\n                      });\n          };\n        }), [dispatch]);\n  var handleReset = React.useCallback((function (param) {\n          return Curry._1(dispatch, /* Reset */1);\n        }), [dispatch]);\n  var handleRandom = React.useCallback((function (param) {\n          return Curry._1(dispatch, /* Random */0);\n        }), [dispatch]);\n  var handleTick = React.useCallback((function (param) {\n          return Curry._1(dispatch, /* Tick */4);\n        }), [dispatch]);\n  var handleToggleAutoPlay = React.useCallback((function (param) {\n          var play = function (param) {\n            state.animationFrameId.contents = requestAnimationFrame(play);\n            return Curry._1(dispatch, /* Tick */4);\n          };\n          if (state.isPlaying) {\n            cancelAnimationFrame(state.animationFrameId.contents);\n            return Curry._1(dispatch, /* Stop */3);\n          } else {\n            play(undefined);\n            return Curry._1(dispatch, /* Start */2);\n          }\n        }), [\n        state.animationFrameId,\n        state.isPlaying,\n        dispatch\n      ]);\n  var label = state.isPlaying ? \"avg update rate: \" + (String(state.frameRate) + \" fps\") : \"\";\n  return React.createElement(CoreComponents$ReasonGameOfLife.Root.make, {\n              children: React.createElement(CoreComponents$ReasonGameOfLife.Content.make, {\n                    children: null\n                  }, React.createElement(CoreComponents$ReasonGameOfLife.AppBar.make, {\n                        children: Util$ReasonGameOfLife.str(\"Conway's Game of Life\")\n                      }), React.createElement(Controls$ReasonGameOfLife.make, {\n                        isPlaying: state.isPlaying,\n                        onReset: handleReset,\n                        onRandom: handleRandom,\n                        onTick: handleTick,\n                        onToggleAutoplay: handleToggleAutoPlay\n                      }), React.createElement(Grid$ReasonGameOfLife.make, {\n                        data: state.grid,\n                        onToggle: handleToggleTile\n                      }), React.createElement(\"div\", undefined, Util$ReasonGameOfLife.str(label)))\n            });\n}\n\nvar make = App;\n\nexports.make = make;\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Emotion = require(\"@ahrefs/bs-emotion/src/Emotion.bs.js\");\nvar Belt_Array = require(\"bs-platform/lib/js/belt_Array.js\");\nvar Tile$ReasonGameOfLife = require(\"./Tile.bs.js\");\nvar Util$ReasonGameOfLife = require(\"../lib/Util.bs.js\");\n\nvar styles = Emotion.css(undefined, {\n      hd: Emotion.display(\"flex\"),\n      tl: {\n        hd: Emotion.border(Emotion.rem(.25), Emotion.solid, Emotion.hex(\"222\")),\n        tl: {\n          hd: Emotion.borderRadius(Emotion.rem(.75)),\n          tl: {\n            hd: Emotion.padding(Emotion.rem(.125)),\n            tl: /* [] */0\n          }\n        }\n      }\n    });\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var chil = props.children;\n  return React.createElement(\"div\", newProps, [chil !== undefined ? chil : null]);\n}\n\nvar Wrapper = {\n  styles: styles,\n  make: make\n};\n\nfunction Grid(Props) {\n  var data = Props.data;\n  var onToggle = Props.onToggle;\n  var renderTile = React.useCallback((function (y) {\n          return function (x, cellState) {\n            return React.createElement(Tile$ReasonGameOfLife.make, {\n                        isAlive: cellState === /* Alive */1,\n                        onToggle: (function (param) {\n                            return Curry._2(onToggle, y, x);\n                          }),\n                        y: y,\n                        x: x,\n                        key: \"\" + x + \"-\" + y\n                      });\n          };\n        }), []);\n  var renderRow = React.useCallback((function (y) {\n          return function (row) {\n            return React.createElement(\"div\", {\n                        key: String(y)\n                      }, Util$ReasonGameOfLife.arr(Belt_Array.mapWithIndex(row, Curry._1(renderTile, y))));\n          };\n        }), []);\n  return React.createElement(make, {\n              children: Util$ReasonGameOfLife.arr(Belt_Array.mapWithIndex(data, renderRow))\n            });\n}\n\nvar make$1 = Grid;\n\nexports.Wrapper = Wrapper;\nexports.make = make$1;\n/* styles Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar React = require(\"react\");\nvar Emotion = require(\"@ahrefs/bs-emotion/src/Emotion.bs.js\");\nvar Util$ReasonGameOfLife = require(\"../lib/Util.bs.js\");\nvar Config$ReasonGameOfLife = require(\"../lib/Config.bs.js\");\n\nfunction styles(background, shadow, tileSize) {\n  return Emotion.css(undefined, {\n              hd: Emotion.p(\"width\", tileSize),\n              tl: {\n                hd: Emotion.p(\"height\", tileSize),\n                tl: {\n                  hd: Emotion.p(\"background\", background),\n                  tl: {\n                    hd: Emotion.borderRadius(Emotion.pct(50)),\n                    tl: {\n                      hd: Emotion.margin2(Emotion.px(2), Emotion.px(1)),\n                      tl: {\n                        hd: Emotion.padding(\"zero\"),\n                        tl: {\n                          hd: Emotion.transitionProperty(\"all\"),\n                          tl: {\n                            hd: Emotion.transitionDuration(Emotion.s(.1)),\n                            tl: {\n                              hd: Emotion.transitionTimingFunction(Emotion.easeInOut),\n                              tl: {\n                                hd: Emotion.cursor(\"pointer\"),\n                                tl: {\n                                  hd: Emotion.p(\"box-shadow\", shadow),\n                                  tl: /* [] */0\n                                }\n                              }\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            });\n}\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles(props.background, props.shadow, props.tileSize)\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var chil = props.children;\n  return React.createElement(\"div\", newProps, [chil !== undefined ? chil : null]);\n}\n\nvar Wrapper = {\n  styles: styles,\n  make: make\n};\n\nfunction Tile(Props) {\n  var isAlive = Props.isAlive;\n  var onToggle = Props.onToggle;\n  var y = Props.y;\n  var x = Props.x;\n  var aliveColor = Util$ReasonGameOfLife.Colors.rainbowHSL(y, x);\n  var match = isAlive ? [\n      aliveColor,\n      \"0 0 0 0 \" + aliveColor\n    ] : [\n      \"#272B30\",\n      \"\"\n    ];\n  var handleMouseEvent = React.useCallback((function (callback) {\n          return function (e) {\n            if (e.nativeEvent.which === 1) {\n              return Curry._1(callback, undefined);\n            }\n            \n          };\n        }), []);\n  return React.createElement(make, {\n              onMouseDown: Curry._1(handleMouseEvent, onToggle),\n              onMouseOver: Curry._1(handleMouseEvent, onToggle),\n              tileSize: Config$ReasonGameOfLife.tileSize,\n              shadow: match[1],\n              background: match[0]\n            });\n}\n\nvar make$1 = Tile;\n\nexports.Wrapper = Wrapper;\nexports.make = make$1;\n/* react Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Game$ReasonGameOfLife = require(\"./Game.bs.js\");\nvar Util$ReasonGameOfLife = require(\"./Util.bs.js\");\nvar Config$ReasonGameOfLife = require(\"./Config.bs.js\");\n\nfunction makeSeed(param) {\n  return Date.now() | 0;\n}\n\nvar initialState_grid = Game$ReasonGameOfLife.makeRandomGrid(Config$ReasonGameOfLife.boardSize, Date.now() | 0);\n\nvar initialState_animationFrameId = {\n  contents: 0\n};\n\nvar initialState = {\n  grid: initialState_grid,\n  isPlaying: false,\n  animationFrameId: initialState_animationFrameId,\n  startedAt: undefined,\n  ticks: 0,\n  frameRate: 0\n};\n\nfunction grid(self, action, _state) {\n  if (typeof action !== \"number\") {\n    return Game$ReasonGameOfLife.toggleTile(self, action._0);\n  }\n  switch (action) {\n    case /* Random */0 :\n        return Game$ReasonGameOfLife.makeRandomGrid(Config$ReasonGameOfLife.boardSize, Date.now() | 0);\n    case /* Reset */1 :\n        return Game$ReasonGameOfLife.makeBlankGrid(Config$ReasonGameOfLife.boardSize);\n    case /* Start */2 :\n    case /* Stop */3 :\n        return self;\n    case /* Tick */4 :\n        return Game$ReasonGameOfLife.nextGeneration(self);\n    \n  }\n}\n\nfunction isPlaying(self, action, _state) {\n  if (typeof action !== \"number\") {\n    return self;\n  }\n  if (action < 2) {\n    return self;\n  }\n  switch (action - 2 | 0) {\n    case /* Random */0 :\n        return true;\n    case /* Reset */1 :\n        return false;\n    case /* Start */2 :\n        return self;\n    \n  }\n}\n\nfunction startedAt(self, action, _state) {\n  if (typeof action !== \"number\") {\n    return self;\n  }\n  if (action < 2) {\n    return self;\n  }\n  switch (action - 2 | 0) {\n    case /* Random */0 :\n        return Date.now();\n    case /* Reset */1 :\n        return ;\n    case /* Start */2 :\n        return self;\n    \n  }\n}\n\nfunction ticks(self, action, state) {\n  var match = state.isPlaying;\n  if (typeof action !== \"number\") {\n    return self;\n  }\n  switch (action) {\n    case /* Random */0 :\n    case /* Start */2 :\n        return self;\n    case /* Reset */1 :\n    case /* Stop */3 :\n        return 0;\n    case /* Tick */4 :\n        if (match) {\n          return self + 1 | 0;\n        } else {\n          return self;\n        }\n    \n  }\n}\n\nfunction frameRate(self, action, state) {\n  var match = state.startedAt;\n  if (typeof action === \"number\") {\n    if (action !== 3) {\n      if (action >= 4 && match !== undefined) {\n        return Util$ReasonGameOfLife.avgFrameRate(state.ticks, match);\n      } else {\n        return self;\n      }\n    } else {\n      return 0;\n    }\n  } else {\n    return self;\n  }\n}\n\nfunction root(state, action) {\n  return {\n          grid: grid(state.grid, action, state),\n          isPlaying: isPlaying(state.isPlaying, action, state),\n          animationFrameId: state.animationFrameId,\n          startedAt: startedAt(state.startedAt, action, state),\n          ticks: ticks(state.ticks, action, state),\n          frameRate: frameRate(state.frameRate, action, state)\n        };\n}\n\nvar Reducers = {\n  grid: grid,\n  isPlaying: isPlaying,\n  startedAt: startedAt,\n  ticks: ticks,\n  frameRate: frameRate,\n  root: root\n};\n\nexports.makeSeed = makeSeed;\nexports.initialState = initialState;\nexports.Reducers = Reducers;\n/* initialState Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Curry = require(\"bs-platform/lib/js/curry.js\");\nvar Random = require(\"bs-platform/lib/js/random.js\");\nvar Caml_obj = require(\"bs-platform/lib/js/caml_obj.js\");\nvar Belt_List = require(\"bs-platform/lib/js/belt_List.js\");\nvar Belt_Array = require(\"bs-platform/lib/js/belt_Array.js\");\nvar Caml_array = require(\"bs-platform/lib/js/caml_array.js\");\n\nfunction safeIndex(x) {\n  var i = x[1];\n  var length = x[0];\n  if (i < 0) {\n    return length - 1 | 0;\n  } else if (i === length) {\n    return 0;\n  } else {\n    return i;\n  }\n}\n\nfunction safePoint(param, length) {\n  return [\n          safeIndex([\n                length,\n                param[0]\n              ]),\n          safeIndex([\n                length,\n                param[1]\n              ])\n        ];\n}\n\nfunction mapGrid(fn, grid) {\n  return Belt_Array.mapWithIndex(grid, (function (y, row) {\n                return Belt_Array.mapWithIndex(row, (function (x, tile) {\n                              return Curry._3(fn, [\n                                          y,\n                                          x\n                                        ], tile, grid);\n                            }));\n              }));\n}\n\nfunction makeBlankGrid(size$prime) {\n  return Belt_Array.make(size$prime, Belt_Array.make(size$prime, /* Dead */0));\n}\n\nfunction makeRandomGrid(size, seed) {\n  Random.init(seed);\n  return mapGrid((function (param, param$1, param$2) {\n                if (Random.$$int(10) > 7) {\n                  return /* Alive */1;\n                } else {\n                  return /* Dead */0;\n                }\n              }), makeBlankGrid(size));\n}\n\nfunction getTile(grid, point) {\n  var match = safePoint(point, grid.length);\n  return Caml_array.get(Caml_array.get(grid, match[0]), match[1]);\n}\n\nvar offset = {\n  hd: -1,\n  tl: {\n    hd: 0,\n    tl: {\n      hd: 1,\n      tl: /* [] */0\n    }\n  }\n};\n\nfunction getNeighbours(grid, param) {\n  var x = param[1];\n  var y = param[0];\n  return Belt_List.map(Belt_List.keep(Belt_List.flatten(Belt_List.map(offset, (function (y$prime) {\n                            return Belt_List.map(offset, (function (x$prime) {\n                                          return [\n                                                  y + y$prime | 0,\n                                                  x + x$prime | 0\n                                                ];\n                                        }));\n                          }))), (function (p) {\n                    return Caml_obj.caml_notequal(p, [\n                                y,\n                                x\n                              ]);\n                  })), (function (param) {\n                return getTile(grid, param);\n              }));\n}\n\nfunction countLivingNeighbours(grid, point) {\n  return Belt_List.length(Belt_List.keep(getNeighbours(grid, point), (function (c) {\n                    return c === /* Alive */1;\n                  })));\n}\n\nfunction nextState(point, cellState, grid) {\n  var neighbours = countLivingNeighbours(grid, point);\n  if (cellState) {\n    if (neighbours === 3 || neighbours === 2) {\n      return /* Alive */1;\n    } else {\n      return /* Dead */0;\n    }\n  } else if (neighbours !== 3) {\n    return /* Dead */0;\n  } else {\n    return /* Alive */1;\n  }\n}\n\nfunction nextGeneration(param) {\n  return mapGrid(nextState, param);\n}\n\nfunction toggleTile(grid, point) {\n  var grid$prime = Belt_Array.map(grid, (function (prim) {\n          return prim.slice(0);\n        }));\n  var match = safePoint(point, grid.length);\n  var x = match[1];\n  var y = match[0];\n  var tile = Caml_array.get(Caml_array.get(grid$prime, y), x);\n  Caml_array.set(Caml_array.get(grid$prime, y), x, tile ? /* Dead */0 : /* Alive */1);\n  return grid$prime;\n}\n\nexports.safeIndex = safeIndex;\nexports.safePoint = safePoint;\nexports.mapGrid = mapGrid;\nexports.makeBlankGrid = makeBlankGrid;\nexports.makeRandomGrid = makeRandomGrid;\nexports.getTile = getTile;\nexports.offset = offset;\nexports.getNeighbours = getNeighbours;\nexports.countLivingNeighbours = countLivingNeighbours;\nexports.nextState = nextState;\nexports.nextGeneration = nextGeneration;\nexports.toggleTile = toggleTile;\n/* No side effect */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n'use strict';\n\nvar React = require(\"react\");\nvar Emotion = require(\"@ahrefs/bs-emotion/src/Emotion.bs.js\");\nvar CoreComponents$ReasonGameOfLife = require(\"./CoreComponents.bs.js\");\n\nvar styles = Emotion.css(undefined, {\n      hd: Emotion.display(\"flex\"),\n      tl: {\n        hd: Emotion.justifyContent(Emotion.center),\n        tl: {\n          hd: Emotion.alignItems(Emotion.center),\n          tl: {\n            hd: Emotion.padding2(Emotion.rem(2), \"zero\"),\n            tl: /* [] */0\n          }\n        }\n      }\n    });\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles\n  };\n  var newProps = Object.assign(stylesObject, props);\n  var chil = props.children;\n  return React.createElement(\"div\", newProps, [chil !== undefined ? chil : null]);\n}\n\nvar Wrapper = {\n  styles: styles,\n  make: make\n};\n\nfunction Controls(Props) {\n  var isPlaying = Props.isPlaying;\n  var onReset = Props.onReset;\n  var onRandom = Props.onRandom;\n  var onTick = Props.onTick;\n  var onToggleAutoplay = Props.onToggleAutoplay;\n  return React.createElement(make, {\n              children: React.createElement(\"div\", {\n                    role: \"group\"\n                  }, React.createElement(CoreComponents$ReasonGameOfLife.Button.make, {\n                        label: \"Reset grid\",\n                        background: \"#ee5f5b\",\n                        onClick: onReset,\n                        children: React.createElement(CoreComponents$ReasonGameOfLife.Icon.make, {\n                              name: \"undo\"\n                            })\n                      }), React.createElement(CoreComponents$ReasonGameOfLife.Button.make, {\n                        label: \"Random grid\",\n                        background: \"#62c462\",\n                        onClick: onRandom,\n                        children: React.createElement(CoreComponents$ReasonGameOfLife.Icon.make, {\n                              name: \"random\"\n                            })\n                      }), React.createElement(CoreComponents$ReasonGameOfLife.Button.make, {\n                        label: \"Next state\",\n                        background: \"#7A8288\",\n                        onClick: onTick,\n                        disabled: isPlaying,\n                        children: React.createElement(CoreComponents$ReasonGameOfLife.Icon.make, {\n                              name: \"forward\"\n                            })\n                      }), React.createElement(CoreComponents$ReasonGameOfLife.ToggleButton.make, {\n                        isToggled: isPlaying,\n                        onClick: onToggleAutoplay,\n                        label: \"Toggle autpplay\"\n                      }))\n            });\n}\n\nvar make$1 = Controls;\n\nexports.Wrapper = Wrapper;\nexports.make = make$1;\n/* styles Not a pure module */\n","// Generated by ReScript, PLEASE EDIT WITH CARE\n'use strict';\n\nvar Js_math = require(\"bs-platform/lib/js/js_math.js\");\nvar Belt_HashMapString = require(\"bs-platform/lib/js/belt_HashMapString.js\");\nvar Config$ReasonGameOfLife = require(\"./Config.bs.js\");\n\nfunction str(prim) {\n  return prim;\n}\n\nfunction arr(prim) {\n  return prim;\n}\n\nfunction avgFrameRate(ticks, startedAt) {\n  return Js_math.ceil(ticks / ((Date.now() - startedAt) / 1000));\n}\n\nvar sqrSize = Math.imul(Config$ReasonGameOfLife.boardSize, Config$ReasonGameOfLife.boardSize);\n\nvar sumOfSquares = (sqrSize << 1);\n\nvar diagonalLength = Math.sqrt(sumOfSquares);\n\nvar hueIncrement = 360 / diagonalLength;\n\nvar colorCache = Belt_HashMapString.make(sqrSize);\n\nfunction rainbowHSL(y, x) {\n  var cacheKey = \"\" + y + \"-\" + x;\n  var found = Belt_HashMapString.get(colorCache, cacheKey);\n  var match;\n  if (found !== undefined) {\n    match = [\n      found,\n      true\n    ];\n  } else {\n    var sumOfPoints = Math.imul(y, y) + Math.imul(x, x) | 0;\n    var raw = Math.sqrt(sumOfPoints) * hueIncrement;\n    var h = Js_math.floor(raw);\n    var color = \"hsl(\" + h + \", 100%, 60%)\";\n    match = [\n      color,\n      false\n    ];\n  }\n  var color$1 = match[0];\n  if (!match[1]) {\n    Belt_HashMapString.set(colorCache, cacheKey, color$1);\n  }\n  return color$1;\n}\n\nvar Colors = {\n  sqrSize: sqrSize,\n  sumOfSquares: sumOfSquares,\n  diagonalLength: diagonalLength,\n  hueIncrement: hueIncrement,\n  colorCache: colorCache,\n  rainbowHSL: rainbowHSL\n};\n\nexports.str = str;\nexports.arr = arr;\nexports.avgFrameRate = avgFrameRate;\nexports.Colors = Colors;\n/* diagonalLength Not a pure module */\n"],"sourceRoot":""}